<%= form_with(model: account, local: true) do |form| %>
  <% if account.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(account.errors.count, "error") %> prohibited this account from being saved:</h2>

      <ul>
      <% account.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group row">
    <div class="col-12 col-sm-6 mb-3 mb-sm-0">
      <%= form.text_field :title, id: :account_title, class:"form-control", type:"text", placeholder:"Título *" %>
    </div>

    <div class="col-12 col-sm-6">
      <!--<% options = {} %>
      <% opts = [] %>
      <% Icon.all.each {|b| options [b.ref_icon] = b.id } %>
      <% options.each {|k, v| opts[v-1] = [k,v,{''}]} %>
      <%= form.select(:icon_id, options_for_select(opts, 1), class:"form-control") %>
       <%= form.select :icon_id, options, class:"form-control" %> -->
    </div> 
  </div>
  <div class="form-group row">
    <div class="col-12 col-sm-6 mb-3 mb-sm-0">
      <%= form.text_field :begBalance, id: :account_begBalance, class:"form-control", type:"float", placeholder:"Saldo inicial *" %>
    </div>
    <div class="col-12 col-sm-6">
      <% options = {} %>
      <% Badge.all.each {|b| options [b.name] = b.id } %>
      <% %>
      <%= form.select :badge_id, options, class:"form-control" %>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-12 col-sm-6 mb-3 mb-sm-0">
      <% options = {} %>
      <% TypeAccount.all.each {|b| options [b.name] = b.id } %>
      <%= form.select :type_account_id, options, class:"form-control" %>
    </div>

    <div class="col-12 col-sm-6">
      <% options = {} %>
      <% Entity.all.each {|b| options [b.name] = b.id } %>
      <%= form.select :entity_id, options, class:"form-control" %>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-12 col-sm-6 mb-3 mb-sm-0">
      <%= form.text_area :note, id: :account_note, class:"form-control descripcion", placeholder:"Añade una nota" %>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-12 col-sm-6 mb-3 mb-sm-0">
    <!-- <%= form.text_field :curBalance, id: :account_curBalance, class:"form-control", type:"float", placeholder:"Saldo actual *"%> -->
    </div>
  </div>
  <div class="row justify-content-between">
    <div class="col-12 col-sm-4 col-md text-left form_inicio_sesion">
      <%= form.submit 'Aceptar', class:"btn btn-primary" %>
    </div>
  </div>
<% end %>
